!function(){"use strict";var e,t={290:function(e,t,n){var l={};n.r(l),n.d(l,{category:function(){return g},metadata:function(){return u},name:function(){return h},settings:function(){return v}});var o=window.wp.blocks,a=window.wp.element,r=window.wp.blockEditor,s=window.wp.components;let c=[];c.shop=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,a.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.createElement)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})),c.mini=(0,a.createElement)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},(0,a.createElement)("path",{d:"M30 24v2H2.429v-2h27.57zm0-10v2H2.429v-2h27.57zm0-10v2H2.429V4h27.57z",fillRule:"nonzero"}),(0,a.createElement)("path",{fill:"#919191",fillRule:"nonzero",d:"M2.429 7h24.043v3H2.429zM2.429 17h24.043v3H2.429zM2.429 27h24.043v3H2.429z"})),c.list=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"},(0,a.createElement)("path",{d:"M30 24v2H10v-2h20zm0-10v2H10v-2h20zm0-10v2H10V4h20z"}),(0,a.createElement)("circle",{cx:"4.773",cy:"7",r:"3"}),(0,a.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 10)"}),(0,a.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 20)"}),(0,a.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z"}),(0,a.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 10)"}),(0,a.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 20)"})),c.cards=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"}," ",(0,a.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 -1.304 1.206)"})," ",(0,a.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 -.566 -6.375)"})," ",(0,a.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(1.306 -.773) scale(1.52569)"})," ",(0,a.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 -1.546 10.482)"})," ",(0,a.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 13.507 1.206)"})," ",(0,a.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 14.245 -6.375)"})," ",(0,a.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(16.117 -.773) scale(1.52569)"})," ",(0,a.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 13.265 10.482)"})," ");var i=c,m=window.wp.i18n,p=window.wp.data,d=window.wp.coreData,u=JSON.parse('{"name":"ctx-products/shop","category":"widgets","attributes":{"columnsSmall":{"type":"number","default":1},"columnsMedium":{"type":"number","default":2},"columnsLarge":{"type":"number","default":3},"showImages":{"type":"boolean","default":true},"dropShadow":{"type":"boolean","default":false},"showCategory":{"type":"boolean","default":true},"sortByCategory":{"type":"boolean","default":false},"showFilter":{"type":"boolean","default":false},"showSearchbar":{"type":"boolean","default":false},"style":{"type":"string","default":"card"},"order":{"type":"string","default":"desc"},"orderBy":{"type":"string","default":"date"},"selectedCategories":{"type":"array","default":[]},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"}}}');const{__:__}=wp.i18n,{name:h,category:g,attributes:f}=u,v={title:__("Expose","expose"),description:__("Shows a free shop","expose"),icon:i.shop,apiVersion:2,keywords:["expose",__("events","expose"),__("list","expose")],attributes:f,edit:function(e){let{attributes:t,setAttributes:n}=e;const{columnsSmall:l,columnsMedium:o,columnsLarge:c,showImages:u,showFilter:h,showSearchbar:g,sortByCategory:f,dropShadow:v,style:w,textAlignment:x,showCategory:E,excerptLength:y,selectedCategories:_,selectedTags:b}=t;console.log(t);const[C,H]=(0,a.useState)(_),k=(0,p.useSelect)((e=>{const{getEntityRecords:t}=e(d.store),n=t("taxonomy","product-categories",{hide_empty:!0});let l=[];return n?(n.map((e=>{l.push({id:e.id,name:e.name})})),l):l}),[]),z=(0,p.useSelect)((e=>{const{getEntityRecords:t}=e(d.store);return t("taxonomy","product-tags",{hide_empty:!0})||null}),[]);let S=[],M=[];null!==z&&(S=z.map((e=>e.name)),M=b.map((e=>{let t=z.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const O=(0,r.useBlockProps)({className:["columns-"+c,!!u&&"hasImage",!!v&&"hover","style-"+w,"text-"+x].filter(Boolean).join(" ")}),R=(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(s.PanelBody,{title:(0,m.__)("Data","expose"),initialOpen:!0},k.map(((e,t)=>(0,a.createElement)(s.CheckboxControl,{label:e.name,key:t,onChange:t=>{((e,t)=>{var l=_;if(t&&!l.includes(e)&&l.push(e),!t&&l.includes(e)){const t=l.indexOf(e);l.splice(t,1)}n({selectedCategories:Array.from(l)}),H(Array.from(l))})(e.id,t)},checked:C.includes(e.id)}))),(0,a.createElement)(s.FormTokenField,{label:(0,m.__)("Tags","expose"),value:M,suggestions:S,onChange:e=>{let t=[];e.map((e=>{const n=z.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),n({selectedTags:t})},__experimentalExpandOnFocus:!0})),(0,a.createElement)(s.PanelBody,{title:(0,m.__)("Layout","expose"),initialOpen:!0},(0,a.createElement)(s.RangeControl,{label:(0,m.__)("Columns on small screens","expose"),max:6,min:1,help:(0,m.__)("eg. Smartphones","expose"),onChange:e=>{n({columnsSmall:e})},value:l}),(0,a.createElement)(s.RangeControl,{label:(0,m.__)("Columns on medium screens","expose"),max:6,min:1,help:(0,m.__)("Tablets and smaller screens","expose"),onChange:e=>{n({columnsMedium:e})},value:o}),(0,a.createElement)(s.RangeControl,{label:(0,m.__)("Columns on large screens","expose"),max:6,min:1,help:(0,m.__)("Desktop screens","expose"),onChange:e=>{n({columnsLarge:e})},value:c})),(0,a.createElement)(s.PanelBody,{title:(0,m.__)("Appearance","expose"),initialOpen:!0},(0,a.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-range-control-4"},(0,m.__)("Style","expose")),(0,a.createElement)("br",null),(0,a.createElement)("div",{className:"styleSelector"},(0,a.createElement)(s.Button,{onClick:()=>n({style:"mini"}),className:"mini"==w?"active":""},(0,a.createElement)(s.Icon,{size:"64",className:"icon",icon:i.mini}),(0,a.createElement)("div",null,(0,m.__)("Minimal","expose"))),(0,a.createElement)(s.Button,{onClick:()=>n({style:"list"}),className:"list"==w?"active":""},(0,a.createElement)(s.Icon,{size:"64",className:"icon",icon:i.list}),(0,a.createElement)("div",null,(0,m.__)("List","expose"))),(0,a.createElement)(s.Button,{onClick:()=>n({style:"cards"}),className:"cards"==w?"active":""},(0,a.createElement)(s.Icon,{size:"64",className:"icon",icon:i.cards}),(0,a.createElement)("div",null,(0,m.__)("Cards","expose")))),u&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.PanelRow,null,(0,a.createElement)(s.ToggleControl,{label:(0,m.__)("Show filter","expose"),checked:h,onChange:e=>n({showFilter:e})})),(0,a.createElement)(s.PanelRow,null,(0,a.createElement)(s.ToggleControl,{label:(0,m.__)("Show searchbar","expose"),checked:g,onChange:e=>n({showSearchbar:e})})),(0,a.createElement)(s.PanelRow,null,(0,a.createElement)(s.ToggleControl,{label:(0,m.__)("Show category","expose"),checked:E,onChange:e=>n({showCategory:e})})),(0,a.createElement)(s.PanelRow,null,(0,a.createElement)(s.ToggleControl,{label:(0,m.__)("Sort by category","expose"),checked:f,onChange:e=>n({sortByCategory:e})})),(0,a.createElement)(s.PanelRow,null,(0,a.createElement)(s.ToggleControl,{label:(0,m.__)("Drop shadow","expose"),checked:v,onChange:e=>n({dropShadow:e})}))),(0,a.createElement)(s.RangeControl,{label:(0,m.__)("Length of preview text","expose"),max:200,min:0,help:(0,m.__)("Number of words","expose"),onChange:e=>{n({excerptLength:e})},value:y})));return(0,a.createElement)(a.Fragment,null,R,(0,a.createElement)("div",O,(0,a.createElement)("div",{className:"components-placeholder is-large"},(0,a.createElement)("div",{className:"components-placeholder__label"},(0,a.createElement)("span",{className:"block-editor-block-icon has-colors"},(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,a.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.createElement)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}))),(0,m.__)("Product Shop","expose")),(0,a.createElement)("div",{className:"components-placeholder__instructions"},(0,m.__)("See for settings in the inspector. The result can be seen in the frontend","expose")))))},save(){return null}};[l].forEach((e=>{if(!e)return;const{name:t,category:n,settings:l}=e;(0,o.registerBlockType)(t,{category:n,...l})}))}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=function(t,n,o,a){if(!n){var r=1/0;for(m=0;m<e.length;m++){n=e[m][0],o=e[m][1],a=e[m][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(m--,1);var i=o();void 0!==i&&(t=i)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[n,o,a]},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={826:0,431:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,r=n[0],s=n[1],c=n[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(c)var m=c(l)}for(t&&t(n);i<r.length;i++)a=r[i],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(m)},n=self.webpackChunkctx_products=self.webpackChunkctx_products||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[431],(function(){return l(290)}));o=l.O(o)}();