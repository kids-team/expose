(()=>{"use strict";var e,t={948:(e,t,l)=>{var r={};l.r(r),l.d(r,{category:()=>f,metadata:()=>u,name:()=>g,settings:()=>v});const o=window.wp.blocks,n=window.React,a=window.wp.blockEditor,s=window.wp.components;let c=[];c.shop=(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,n.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,n.createElement)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})),c.mini=(0,n.createElement)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},(0,n.createElement)("path",{d:"M30 24v2H2.429v-2h27.57zm0-10v2H2.429v-2h27.57zm0-10v2H2.429V4h27.57z",fillRule:"nonzero"}),(0,n.createElement)("path",{fill:"#919191",fillRule:"nonzero",d:"M2.429 7h24.043v3H2.429zM2.429 17h24.043v3H2.429zM2.429 27h24.043v3H2.429z"})),c.list=(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"},(0,n.createElement)("path",{d:"M30 24v2H10v-2h20zm0-10v2H10v-2h20zm0-10v2H10V4h20z"}),(0,n.createElement)("circle",{cx:"4.773",cy:"7",r:"3"}),(0,n.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 10)"}),(0,n.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 20)"}),(0,n.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z"}),(0,n.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 10)"}),(0,n.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 20)"})),c.cards=(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"}," ",(0,n.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 -1.304 1.206)"})," ",(0,n.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 -.566 -6.375)"})," ",(0,n.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(1.306 -.773) scale(1.52569)"})," ",(0,n.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 -1.546 10.482)"})," ",(0,n.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 13.507 1.206)"})," ",(0,n.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 14.245 -6.375)"})," ",(0,n.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(16.117 -.773) scale(1.52569)"})," ",(0,n.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 13.265 10.482)"})," ");const i=c,m=window.wp.data,d=window.wp.element,p=window.wp.i18n,h=window.wp.coreData,u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"ctx-products/shop","title":"Handout Shop","keywords":["link","action","button"],"textdomain":"ctx-blocks","description":"Add a Handout order to your website.","category":"widgets","attributes":{"showImages":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":true},"sortByCategory":{"type":"boolean","default":false},"showFilter":{"type":"boolean","default":false},"showSearchbar":{"type":"boolean","default":false},"view":{"type":"string","default":"cards"},"order":{"type":"string","default":"desc"},"orderBy":{"type":"string","default":"date"},"selectedCategories":{"type":"array","default":[]},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"form":{"type":"number","default":0}},"supports":{"anchor":true,"html":false,"__experimentalBorder":{"color":true,"radius":true,"style":false,"width":false,"__experimentalDefaultControls":{"radius":true,"style":false,"width":true,"linked":false,"color":true}},"spacing":{"padding":true,"margin":true}},"render":"file:./render.php","viewScript":"expose-frontend","editorScript":"expose-block-editor","editorStyle":"expose-block-editor-style","style":"expose-frontend-style"}'),{__}=wp.i18n,{name:g,category:f,attributes:w}=u,v={title:__("Expose","expose"),description:__("Shows a free shop","expose"),icon:i.shop,apiVersion:2,keywords:["expose",__("events","expose"),__("list","expose")],attributes:w,edit:function({attributes:e,setAttributes:t}){const{showImages:l,showFilter:r,showSearchbar:o,sortByCategory:c,dropShadow:u,view:g,form:f,textAlignment:w,showCategory:v,excerptLength:x,selectedCategories:E,selectedTags:y}=e;console.log(e);const[b,_]=(0,d.useState)(E),k=(0,m.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),l=t("taxonomy","product-categories",{hide_empty:!0});let r=[];return l?(l.map((e=>{r.push({id:e.id,name:e.name})})),r):r}),[]),H=(0,m.useSelect)((e=>{const{getEntityRecords:t}=e(h.store);return t("taxonomy","product-tags",{hide_empty:!0})||null}),[]),C=(0,m.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),l=t("postType","gbf-form",{per_page:100});if(!l)return null;let r=l.map((e=>({value:e.id,label:e.title.rendered})));return r.unshift({value:0,label:(0,p.__)("Internal","expose")}),r}),[]);let z=[],S=[];null!==H&&(z=H.map((e=>e.name)),S=y.map((e=>{let t=H.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const M=(0,a.useBlockProps)({className:[!!l&&"hasImage",!!u&&"hover","view-"+g,"text-"+w].filter(Boolean).join(" ")}),B=(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(s.PanelBody,{title:(0,p.__)("Data","expose"),initialOpen:!0},k.map(((e,l)=>(0,n.createElement)(s.CheckboxControl,{label:e.name,key:l,onChange:l=>{((e,l)=>{var r=E;if(l&&!r.includes(e)&&r.push(e),!l&&r.includes(e)){const t=r.indexOf(e);r.splice(t,1)}t({selectedCategories:Array.from(r)}),_(Array.from(r))})(e.id,l)},checked:b.includes(e.id)}))),(0,n.createElement)(s.FormTokenField,{label:(0,p.__)("Tags","expose"),value:S,suggestions:z,onChange:e=>{let l=[];e.map((e=>{const t=H.find((t=>t.name===e));void 0!==t&&l.push(t.id)})),t({selectedTags:l})},__experimentalExpandOnFocus:!0}),C.length<1&&(0,n.createElement)(s.SelectControl,{label:(0,p.__)("Form","expose"),options:C,value:f,onChange:e=>t({form:e})})),(0,n.createElement)(s.PanelBody,{title:(0,p.__)("Appearance","expose"),initialOpen:!0},(0,n.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-range-control-4"},(0,p.__)("Style","expose")),(0,n.createElement)("br",null),(0,n.createElement)("div",{className:"styleSelector"},(0,n.createElement)(s.Button,{onClick:()=>t({view:"mini"}),className:"mini"==g?"active":""},(0,n.createElement)(s.Icon,{size:"64",className:"icon",icon:i.mini}),(0,n.createElement)("div",null,(0,p.__)("Minimal","expose"))),(0,n.createElement)(s.Button,{onClick:()=>t({view:"list"}),className:"list"==g?"active":""},(0,n.createElement)(s.Icon,{size:"64",className:"icon",icon:i.list}),(0,n.createElement)("div",null,(0,p.__)("List","expose"))),(0,n.createElement)(s.Button,{onClick:()=>t({view:"cards"}),className:"cards"==g?"active":""},(0,n.createElement)(s.Icon,{size:"64",className:"icon",icon:i.cards}),(0,n.createElement)("div",null,(0,p.__)("Cards","expose")))),l&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.PanelRow,null,(0,n.createElement)(s.ToggleControl,{label:(0,p.__)("Show filter","expose"),checked:r,onChange:e=>t({showFilter:e})})),(0,n.createElement)(s.PanelRow,null,(0,n.createElement)(s.ToggleControl,{label:(0,p.__)("Show searchbar","expose"),checked:o,onChange:e=>t({showSearchbar:e})})),(0,n.createElement)(s.PanelRow,null,(0,n.createElement)(s.ToggleControl,{label:(0,p.__)("Show category","expose"),checked:v,onChange:e=>t({showCategory:e})})),(0,n.createElement)(s.PanelRow,null,(0,n.createElement)(s.ToggleControl,{label:(0,p.__)("Sort by category","expose"),checked:c,onChange:e=>t({sortByCategory:e})})),(0,n.createElement)(s.PanelRow,null,(0,n.createElement)(s.ToggleControl,{label:(0,p.__)("Drop shadow","expose"),checked:u,onChange:e=>t({dropShadow:e})}))),(0,n.createElement)(s.RangeControl,{label:(0,p.__)("Length of preview text","expose"),max:200,min:0,help:(0,p.__)("Number of words","expose"),onChange:e=>{t({excerptLength:e})},value:x})));return(0,n.createElement)(n.Fragment,null,B,(0,n.createElement)("div",{...M},(0,n.createElement)("div",{className:"components-placeholder is-large"},(0,n.createElement)("div",{className:"components-placeholder__label"},(0,n.createElement)("span",{className:"block-editor-block-icon has-colors"},(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,n.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,n.createElement)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}))),(0,p.__)("Product Shop","expose")),(0,n.createElement)("div",{className:"components-placeholder__instructions"},(0,p.__)("See for settings in the inspector. The result can be seen in the frontend","expose")))))},save:()=>null};[r].forEach((e=>{if(!e)return;const{name:t,category:l,settings:r}=e;(0,o.registerBlockType)(t,{category:l,...r})}))}},l={};function r(e){var o=l[e];if(void 0!==o)return o.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,l,o,n)=>{if(!l){var a=1/0;for(m=0;m<e.length;m++){for(var[l,o,n]=e[m],s=!0,c=0;c<l.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](l[c])))?l.splice(c--,1):(s=!1,n<a&&(a=n));if(s){e.splice(m--,1);var i=o();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[l,o,n]},r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var o,n,[a,s,c]=l,i=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var m=c(r)}for(t&&t(l);i<a.length;i++)n=a[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(m)},l=globalThis.webpackChunkctx_products=globalThis.webpackChunkctx_products||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=r.O(void 0,[431],(()=>r(948)));o=r.O(o)})();